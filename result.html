<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CareerSteps – Final AI Analysis</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://cdn.tailwindcss.com"></script>

<style>
@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700;800&display=swap');

body { background:#0a0f1d; color:#fff; font-family:'Plus Jakarta Sans', sans-serif; }
.main-card { background:#111827; border-radius:32px; }
.stream-card { background:rgba(255,255,255,0.02); border:1px solid rgba(255,255,255,0.08); border-radius:24px; transition:.4s; }
.stream-card:hover { border-color:#6366f1; transform:translateY(-4px); }
.status-badge { background:rgba(16,185,129,.1); color:#10b981; border:1px solid rgba(16,185,129,.2); }
.career-tag { background:rgba(99,102,241,.1); color:#a5b4fc; font-size:10px; padding:5px 12px; border-radius:8px; font-weight:700; }

@media print {
  .no-print { display:none!important }
  body { background:#fff!important;color:#000!important }
  .stream-card { page-break-inside:avoid }
}
</style>
</head>

<body class="p-4 md:p-10 bg-[#020617]">

<!-- HEADER -->
<div class="flex justify-between items-center mb-12 no-print">
  <h1 class="text-2xl font-extrabold text-indigo-400">CAREER<span class="text-blue-500">STEPS</span></h1>
  <div class="flex gap-3">
    <button onclick="window.print()" class="px-4 py-2 bg-white/5 rounded-xl">PDF</button>
    <button onclick="shareWhatsApp()" class="px-4 py-2 bg-green-500/20 rounded-xl">WhatsApp</button>
    <button onclick="shareResult()" class="px-4 py-2 bg-indigo-600 rounded-xl">Share</button>
  </div>
</div>

<!-- TITLE -->
<div class="text-center mb-16">
  <div class="inline-block status-badge px-5 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest mb-6">
    Assessment Analysis Complete
  </div>
  <h2 class="text-4xl md:text-6xl font-black mb-4 uppercase italic">
    Recommended <span class="text-indigo-500">Streams</span>
  </h2>
  <p id="userNameDisplay" class="text-slate-400 text-lg"></p>
</div>

<!-- RESULTS -->
<div id="resultsContainer" class="space-y-8 mb-20"></div>

<!-- CTA -->
<div class="text-center border-t border-white/5 pt-10">
  <p class="text-[10px] text-slate-600 uppercase tracking-widest mb-4">
    Neural Data Encrypted • CareerSteps AI
  </p>
  <div class="flex justify-center gap-4 no-print">
    <a href="careers.html" class="px-8 py-3 bg-indigo-600 rounded-xl font-bold">Explore All Careers</a>
    <a href="assessment.html" class="px-8 py-3 bg-slate-800 rounded-xl font-bold">Retake Test</a>
  </div>
</div>

<script>
// ===== DATA =====
const name = localStorage.getItem("user_name") || "Student";
const match = parseFloat(localStorage.getItem("matchPercent") || "92.4");

document.getElementById("userNameDisplay").innerText =
  `System Analysis for ${name.toUpperCase()}`;

const streamData = [
 {
  id:"science",
  title:"Science & Technology",
  desc:"Strong analytical thinking, problem-solving ability and curiosity towards tech & innovation.",
  careers:["Software Engineer","Doctor","Data Scientist","Physicist"],
  steps:["PCM / PCB in 11–12","JEE / NEET / CET prep","Projects & research"],
  explain:"High analytical ability, logic strength and structured thinking detected.",
  score: match
 },
 {
  id:"commerce",
  title:"Commerce & Business",
  desc:"Strategic mindset with strong interest in finance, management and decision making.",
  careers:["CA","MBA","Investment Banker","Economist"],
  steps:["Commerce + Maths","CA / IPMAT prep","Business & finance exposure"],
  explain:"Decision-making skills and money-handling aptitude observed.",
  score: (match - 4.5).toFixed(1)
 },
 {
  id:"arts",
  title:"Humanities & Policy",
  desc:"Social awareness, communication skills and interest in law, governance and society.",
  careers:["Lawyer","IAS / IPS","Psychologist","Journalist"],
  steps:["History / Pol Sci","CLAT / UPSC foundation","Debate & writing"],
  explain:"High social intelligence and creative expression found.",
  score: (match - 9.2).toFixed(1)
 }
];

// ===== SORT BY SCORE (CareerCompass style) =====
const sorted = [...streamData].sort(
 (a,b)=>parseFloat(b.score)-parseFloat(a.score)
);

// ===== RENDER =====
const box = document.getElementById("resultsContainer");

sorted.forEach((s,i)=>{
 const best = i===0;
 box.innerHTML += `
 <div class="stream-card p-8 relative">
   ${best ? `<div class="absolute top-0 right-0 bg-yellow-400 text-black text-[10px] px-4 py-1 rounded-bl-xl font-black uppercase">Best Match</div>` : `<div class="text-[9px] text-slate-500 uppercase tracking-widest font-bold mb-2">Strong Alternative</div>`}

   <h3 class="text-2xl font-black mb-2">${s.title}</h3>
   <p class="text-slate-400 text-sm mb-4">${s.desc}</p>

   <div class="flex justify-between items-center mb-4">
     <span class="text-3xl font-black italic">${s.score}%</span>
     <span class="text-[10px] text-slate-500 uppercase">Match Score</span>
   </div>

   <!-- WHY -->
   <div class="bg-white/5 p-4 rounded-xl mb-6">
     <p class="text-xs text-indigo-300 font-bold uppercase mb-2">Why this match?</p>
     <p class="text-sm text-slate-300">${s.explain}</p>
   </div>

   <!-- CAREERS -->
   <div class="mb-6">
     <p class="text-xs uppercase tracking-widest text-slate-500 mb-2">Career Paths</p>
     <div class="flex flex-wrap gap-2">
       ${s.careers.map(c=>`<span class="career-tag">${c}</span>`).join("")}
     </div>
   </div>

   <!-- ROADMAP -->
   <ul class="text-sm text-slate-300 mb-6 space-y-2">
     ${s.steps.map(st=>`<li>▶ ${st}</li>`).join("")}
   </ul>

   <!-- AUTO REDIRECT -->
   <div class="flex gap-4 no-print">
     <a href="careers.html?stream=${s.id}"
      class="px-6 py-3 bg-indigo-600 rounded-xl font-bold text-sm">
      Explore Careers in ${s.title}
     </a>
   </div>
 </div>`;
});

// ===== SHARE (UNCHANGED) =====
const shareURL = window.location.href;
const shareMSG = `Hey! Check out my AI Career Report on CareerSteps. Match Score: ${match}% → `;

function shareWhatsApp(){
 window.open(`https://api.whatsapp.com/send?text=${encodeURIComponent(shareMSG+shareURL)}`);
}
async function shareResult(){
 if(navigator.share){
  await navigator.share({title:"AI Career Report",text:shareMSG,url:shareURL});
 }else{
  navigator.clipboard.writeText(shareMSG+shareURL);
  alert("Link copied");
 }
}
</script>
</body>
</html>
